#!name = Block ads | å¹¿å‘Šæ‹¦æˆªåˆé›†
#!desc = åç§°ï¼š å¸¸ç”¨è½¯ä»¶ æ‹¦æˆªå¹¿å‘Š \nä½œè€…ï¼š RuCu6 Keywos fmz200 \nè¯´æ˜ï¼š ç›®å‰æœ‰ï¼Œçˆ±æ€ã€ä¸­å›½ç§»åŠ¨ã€ç½‘æ˜“é‚®ç®±å¤§å¸ˆã€qqé‚®ç®±ã€å¤§å¸ˆå…„ã€è…¾è®¯æ‰‹æœºç®¡å®¶ã€æ‹›å•†é“¶è¡Œã€itä¹‹å®¶
#!author = RuCu6 Keywos fmz200
#!category = ğŸš« Block ads
#!date= 2024-04-23 20:00

[General]
force-http-engine-hosts = %APPEND% sdk.alibaba.com.ailbaba.me

[URL Rewrite]
# çˆ±æ€å¼€å±
^https?:\/\/list-app-m\.i4\.cn\/getopfstadinfo\.xhtml - reject

# qqé‚®ç®±å¼€å± rescdn.qqmail.com
^https:\/\/rescdn\.qqmail\.com\/qqmail\/images\/.+\.(png|jpg)$ - reject

# è…¾è®¯æ‰‹æœºç®¡ç†å¼€å± us.l.qq.com
^https:\/\/us\.l\.qq\.com\/exapp - reject

# itä¹‹å®¶ api.zuihuimai.com, dat.ruanmei.com
^https?:\/\/api\.zuihuimai\.com\/static\/.*\/hongbao - reject
^https?:\/\/dat\.ruanmei\.com\/ithome\/money\/acd\.json$ - reject

[Rule]
# ç½‘æ˜“é‚®ç®±
DOMAIN-SUFFIX,sdk.e.qq.com,REJECT-NO-DROP
DOMAIN-SUFFIX,gorgon.youdao.com,REJECT-NO-DROP
DOMAIN-SUFFIX,nex.163.com,REJECT-NO-DROP
DOMAIN-SUFFIX,mi.gdt.qq.com,REJECT-NO-DROP
# é…·å®‰
DOMAIN-SUFFIX,ulogs.umengcloud.com,REJECT-DROP
DOMAIN-SUFFIX,toblog.ctobsnssdk.com,REJECT-NO-DROP
DOMAIN-SUFFIX,adashbc.ut.taobao.com,REJECT-NO-DROP

# ç›´æ¥æ‹¦æˆªä¼šæš´åŠ›è¯·æ±‚æˆ–è€…ä½¿ç”¨ç¼“å­˜å¹¿å‘Šæ•°æ®
DOMAIN-SUFFIX,api-access.pangolin-sdk-toutiao.com,DIRECT
DOMAIN-SUFFIX,api-access.pangolin-sdk-toutiao1.com,DIRECT
DOMAIN-KEYWORD,pangolin-sdk-toutiao,DIRECT


[Map Local]
# ä¸­å›½ç§»åŠ¨å¼€å± client.app.coc.10086.cn
^https?:\/\/client\.app\.coc\.10086\.cn\/biz-orange\/DN\/(explorePage\/getAdverList|init\/startInit) data="https://raw.githubusercontent.com/Keywos/rule/main/mocks//reject-200.txt"

# å¾®ä¿¡å…¬ä¼—å·åº•éƒ¨ mp.weixin.qq.com
^https?:\/\/mp\.weixin\.qq\.com\/mp\/getappmsgad data="https://raw.githubusercontent.com/Keywos/rule/main/mocks//WeChat.json"

# ç½‘æ˜“é‚®ç®±å¤§å¸ˆå¼€å± appconf.mail.163.com
^https?:\/\/appconf\.mail\.163\.com\/mmad\/ data="https://raw.githubusercontent.com/Keywos/rule/main/mocks/reject-200.txt"
^https?:\/\/mail\.163\.com\/smflow\/(config|get)\.do data="https://raw.githubusercontent.com/Keywos/rule/main/mocks/reject-dict.json"
^https?:\/\/iad\.g\.163\.com\/ma\/ad data="https://raw.githubusercontent.com/Keywos/rule/main/mocks/reject-dict.json"
^https:\/\/api-access\.pangolin-sdk-toutiao(\d|-\w)?\.com\/api\/ad\/union\/sdk\/get_ads data="https://raw.githubusercontent.com/Keywos/rule/main/mocks/reject-dict.json"

^https?:\/\/mobads\.baidu\.com\/cpro\/ui\/mads\.php\? data="https://raw.githubusercontent.com/Keywos/rule/main/mocks/reject-dict.json"

^https?:\/\/dsp-x\.jd\.com\/adx\/sdk data="https://raw.githubusercontent.com/Keywos/rule/main/mocks/reject-dict.json"

# æ‹›å•†é“¶è¡Œå¼€å± webappcfg.paas.cmbchina.com
^https?:\/\/webappcfg\.paas\.cmbchina\.com\/v\d\/func\/getmarketconfig data="https://raw.githubusercontent.com/Keywos/rule/main/mocks/reject-dict.json"

# å¤§å¸ˆå…„ sdk.alibaba.com.ailbaba.me
^https?:\/\/sdk\.alibaba\.com\.ailbaba\.me\/(dsx|xgapp)\.php\/v\d\/(top_notice\?|app_config|search_hot|version|advert\?position=[^2]+) data="https://raw.githubusercontent.com/Keywos/rule/main/mocks/reject-dict.json"

# ç±³å®¶
^https?:\/\/home\.mi\.com\/cgi-op\/api\/v1\/recommendation\/(banner|carousel\/banners|myTab|openingBanner) data="https://raw.githubusercontent.com/Keywos/rule/main/mocks/reject-dict.json"

# å½©äº‘èµèŠ±
^https?:\/\/wrapper\.cyapi\.cn\/v1\/activity\? data="https://raw.githubusercontent.com/Keywos/rule/main/mocks/caiyun.json"
^https?:\/\/api\.caiyunapp\.com\/v1\/activity data="https://raw.githubusercontent.com/Keywos/rule/main/mocks/reject-dict.json"

[Script]
# ç©¿å±±ç”²å¹¿å‘Šè”ç›Ÿ ä¿®æ”¹åŠ å¯†å¹¿å‘Šé…ç½®/é˜»æ­¢ä¸Šä¼ ç­‰ æ±½æ°´éŸ³ä¹/é…·å®‰/ç½‘æ˜“é‚®ç®±ç­‰
AD_SDKEY = type=http-response,pattern=^https:\/\/api-access\.pangolin-sdk-toutiao(\d|-\w)??\.com\/api\/ad\/union\/sdk\/settings,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/Keywos/rule/main/JS/adsdk_chj.js

# çˆ±æ€æ¨å¹¿å…¨éƒ¨å¹²æ‰åªä¿ç•™æœç´¢ list-app-m.i4.cn, search-app-m.i4.cn
çˆ±æ€ = type=http-response,pattern=^https?:\/\/(search|list)-app-m\.i4\.cn\/(getHotSearchList|getAppList)\.xhtml,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/Keywos/rule/main/JS/aisi.js


[MITM]
h2 = true
tcp-connection = true
hostname = %APPEND% client.app.coc.10086.cn, list-app-m.i4.cn, search-app-m.i4.cn, mp.weixin.qq.com, webappcfg.paas.cmbchina.com, rescdn.qqmail.com, us.l.qq.com, napi.ithome.com, api.zuihuimai.com,mobads.baidu.com,dsp-x.jd.comdat.ruanmei.com,appconf.mail.163.com,home.mi.com, wrapper.cyapi.cn,api.caiyunapp.com, api-access.pangolin-sdk-toutiao*.com
