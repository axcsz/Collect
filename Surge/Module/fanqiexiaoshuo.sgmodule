#!name = Block ads | ç•ªèŒ„å°è¯´
#!desc = åç§°ï¼šç•ªèŒ„å°è¯´ æ‹¦æˆªå¹¿å‘Š \nä½œè€…ï¼šå¯è‰ğŸ…¥ app2smile \nè¯´æ˜ï¼šå¼€å±å¹¿å‘Šã€ç§»é™¤æ–‡ç« åº•éƒ¨å’Œç« æœ«å¹¿å‘Šã€ç§»é™¤å¬ä¹¦é¡µé¢å¹¿å‘Šã€ç§»é™¤æ‚¬æµ®éƒ¨ä»¶å’Œåº•æ å¤šä½™çš„ç¦åˆ©æ ‡ç­¾ã€‚
#!author = å¯è‰ğŸ…¥ app2smile
#!category = ğŸš« Block ads
#!date= 2024-05-15 16:39

[Rule]
URL-REGEX,^http:\/\/sf3-be-pack\.pglstatp-toutiao\.com\/obj\/ad-app-package\/,REJECT
# æ”¾è¡Œæ­¤æ¡ä»¥ç¡®ä¿å­—èŠ‚è·³åŠ¨å»å¹¿å‘Šè„šæœ¬çš„æ­£å¸¸æ‰§è¡Œ
URL-REGEX,^https:\/\/(api-access\.pangolin-sdk-toutiao(\d|-b)?|is\.snssdk)\.com\/api\/ad\/union\/sdk\/get_ads,DIRECT
AND,((DOMAIN-KEYWORD, ads), (DOMAIN-KEYWORD, normal), (DOMAIN-SUFFIX, zijieapi.com)),REJECT
AND,((DOMAIN-KEYWORD, -ad-), (DOMAIN-SUFFIX, byteimg.com)),REJECT
AND,((DOMAIN-KEYWORD, minigame), (DOMAIN-SUFFIX, zijieapi.com)),REJECT
AND,((DOMAIN-KEYWORD, tnc), (AND, ((OR, ((DOMAIN-KEYWORD, -bjlgy), (DOMAIN-KEYWORD, -alisc), (DOMAIN-KEYWORD, -aliec))), (OR, ((DOMAIN-SUFFIX, snssdk.com), (DOMAIN-SUFFIX, toutiaoapi.com), (DOMAIN-SUFFIX, bytedance.com), (DOMAIN-SUFFIX, zijieapi.com)))))),REJECT
DOMAIN,dig.bdurl.net,REJECT
DOMAIN,dig.zjurl.cn,REJECT
# æ”¾è¡Œæ­¤æ¡ä»¥ç¡®ä¿å¹¿å‘Šè”ç›Ÿè„šæœ¬çš„æ­£å¸¸æ‰§è¡Œ
DOMAIN,is.snssdk.com,DIRECT
DOMAIN,log5-applog.fqnovel.com,REJECT
DOMAIN,rtlog5-applog.fqnovel.com,REJECT

[URL Rewrite]
^https:\/\/sf3-fe-tos\.pglstatp-toutiao\.com\/obj\/ad-pattern\/ - reject
^https:\/\/lf-cdn-tos\.bytescm\.com\/obj\/static\/ad\/ - reject
# åŸŸåè§£æ
^https:\/\/tnc3-alisc1\.zijieapi\.com\/get_domains\/ - reject

[Script]
# å­—èŠ‚è·³åŠ¨ç©¿å±±ç”²
ç§»é™¤å­—èŠ‚è·³åŠ¨å¹¿å‘Š = type=http-response, pattern=^https:\/\/(api-access\.pangolin-sdk-toutiao(\d|-b)?|is\.snssdk)\.com\/api\/ad\/union\/sdk\/get_ads, script-path=https://gitlab.com/lodepuly/vpn_tool/-/raw/master/Resource/Script/Remove_ads_by_keli/adsense.js, requires-body=true

[MITM]
hostname = %APPEND% sf3-fe-tos.pglstatp-toutiao.com, tnc3-alisc1.zijieapi.com, api-access.pangolin-sdk-toutiao*.com, lf-cdn-tos.bytescm.com, is.snssdk.com
